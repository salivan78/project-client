{"version":3,"sources":["action/api.ts","action/list.js","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/ListCertificate.module.css","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/newList.module.css","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/ListsCertificate.module.css","components/utils/useInput.jsx","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/newList.jsx","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/ListCertificate.jsx","components/utils/Paginator.jsx","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/ListsCertitficate.jsx","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/Lists.jsx","components/Fdp/FdpYear/FdpMount/FdpContent/QualitySertificate/ListsCertificateRoute.jsx"],"names":["listsAPI","page","limit","axios","get","API_URL","headers","Authorization","localStorage","getItem","numberList","updateList","id","nameProduct","weight","location","incongruity","reason","usage","department","sum","article","nameGuilty","correction","nameCorrection","monthfdp","dispatch","a","toggleAddingProgress","put","response","setList","data","alert","message","createList","name","date","post","addList","addedList","added","actionCreator","createAddon","addon","removeAdded","addoff","setLists","showLoader","then","setQualityList","docs","setTotalCount","totalDocs","hideLoader","e","setOneLists","module","exports","useInput","initialValue","useState","value","setValue","onChange","target","NewList","useDispatch","setCorrection","history","useHistory","newDate","Date","className","l","row","head","input_column","type","placeholder","cols","rows","onClick","evt","push","preventDefault","green","ListCertificate","list","addingInProgress","useSelector","state","listsCertificatePage","monthFdp","moment","format","dateList","lc","link","nbr_link","to","adding_btn_add","disabled","some","_id","adding_btn_remove","Paginator","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","style","filter","p","map","cn","selectedList","ListsCertificate","useEffect","pageNumber","setCurrentPage","Lists","loader","d","Loader","ListsCertificateRoute","exact","path","render"],"mappings":"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","file":"static/js/3.3c9d9452.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {API_URL} from \"../config\";\r\n\r\nexport const listsAPI = {\r\n    getLists(page: number, limit: number) {\r\n        return axios.get(`${API_URL}api/lists?page=${page}&limit=${limit}`, {\r\n            headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n        })\r\n    },\r\n    getOneList(numberList: number) {\r\n        return axios.get(`${API_URL}api/lists/` + numberList, {\r\n            headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n        })\r\n    }\r\n}","import axios from \"axios\";\r\nimport {API_URL} from \"../config\";\r\nimport {\r\n    addoff,\r\n    addon,\r\n    setQualityList,\r\n    setTotalCount,\r\n    toggleAddingProgress\r\n} from \"../redux/qualityCertificateList-reducer\";\r\nimport {listsAPI} from \"./api\";\r\nimport {hideLoader, showLoader} from \"../redux/appReducer\";\r\nimport {addList, setList} from \"../redux/list-reducer\";\r\n\r\nexport function updateList(id, nameProduct, weight, location, incongruity, reason, usage, department, sum, article, nameGuilty, correction, nameCorrection, monthfdp) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(toggleAddingProgress(true, id))\r\n            const response = await axios.put(`${API_URL}api/lists?id=${id}`, {\r\n                nameProduct,\r\n                weight,\r\n                location,\r\n                incongruity,\r\n                reason,\r\n                usage,\r\n                department,\r\n                sum,\r\n                article,\r\n                nameGuilty,\r\n                correction,\r\n                nameCorrection,\r\n                monthfdp\r\n            }, {\r\n                headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n            })\r\n            dispatch(setList(response.data))\r\n            dispatch(toggleAddingProgress(false, id))\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n}\r\n\r\nexport function createList(name, date, nameProduct, weight, location, incongruity, reason, usage, department, sum, article, nameGuilty, correction, nameCorrection) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(toggleAddingProgress(true))\r\n            const response = await axios.post(`${API_URL}api/lists`, {\r\n                name,\r\n                date,\r\n                nameProduct,\r\n                weight,\r\n                location,\r\n                incongruity,\r\n                reason,\r\n                usage,\r\n                department,\r\n                sum,\r\n                article,\r\n                nameGuilty,\r\n                correction,\r\n                nameCorrection\r\n            },\r\n                {\r\n                headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n            }\r\n            )\r\n            dispatch(addList(response.data))\r\n            alert(`Лист с номером ${name} добавлен`)\r\n            dispatch(toggleAddingProgress(false))\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n}\r\n\r\nconst addedList = async (dispatch, id, added, actionCreator) => {\r\n\r\n    try {\r\n        dispatch(toggleAddingProgress(true, id))\r\n        const response = await axios.put(`${API_URL}api/lists?id=${id}`, {\r\n            added\r\n        }, {\r\n            headers: {Authorization: `Bearer ${localStorage.getItem('token')}`}\r\n        })\r\n        dispatch(actionCreator(response.data))\r\n        dispatch(toggleAddingProgress(false, id))\r\n    } catch (e) {\r\n        alert(e.response.data.message)\r\n    }\r\n}\r\n\r\nexport function createAddon(id, added) {\r\n    return async (dispatch) => {\r\n        addedList(dispatch, id, added, addon)\r\n    }\r\n}\r\n\r\nexport function removeAdded(id, added) {\r\n    return async (dispatch) => {\r\n        addedList(dispatch, id, added, addoff)\r\n    }\r\n}\r\n\r\nexport const setLists = (page, limit) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(showLoader())\r\n            listsAPI.getLists(page, limit).then(response => {\r\n                dispatch(setQualityList(response.data.docs))\r\n                dispatch(setTotalCount(response.data.totalDocs))\r\n            })\r\n            dispatch(hideLoader())\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        }\r\n    }\r\n}\r\n\r\nexport const setOneLists = (numberList) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(showLoader())\r\n            listsAPI.getOneList(numberList).then(response => {\r\n                dispatch(setList(response.data))\r\n                //console.log(response.data)\r\n            })\r\n        } catch (e) {\r\n            alert(e.response.data.message)\r\n        } finally {\r\n            dispatch(hideLoader())\r\n        }\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"green\":\"ListCertificate_green__3UGht\",\"list\":\"ListCertificate_list__2U5CF\",\"adding_btn_add\":\"ListCertificate_adding_btn_add__1biLa\",\"adding_btn_remove\":\"ListCertificate_adding_btn_remove__2UrcG\",\"inpt\":\"ListCertificate_inpt__1KKz6\",\"link\":\"ListCertificate_link__351_6\",\"nbr_link\":\"ListCertificate_nbr_link__JvEWu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"green\":\"newList_green__2vsMf\",\"head\":\"newList_head__368gF\",\"a\":\"newList_a__3odkS\",\"an\":\"newList_an__2Cn40\",\"abc\":\"newList_abc__3P6ak\",\"row\":\"newList_row__330Fd\",\"input_column\":\"newList_input_column__15JIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"green\":\"ListsCertificate_green__3-GT3\",\"l\":\"ListsCertificate_l__3lvAD\"};","import {useEffect, useState} from \"react\";\r\n\r\nexport default function useInput(initialValue) {\r\n    const [value, setValue] = useState(initialValue)\r\n\r\n    /*useEffect(() => {\r\n        setValue(value);\r\n    }, [value])*/\r\n\r\n    const onChange = e => {\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    return {\r\n        value, onChange\r\n    }\r\n}","import l from './newList.module.css'\r\nimport React, {useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport useInput from \"../../../../../utils/useInput\";\r\nimport {createList} from \"../../../../../../action/list\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst NewList = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const name = useInput('')\r\n    const date = useInput('')\r\n    const nameProduct = useInput('')\r\n    const weight = useInput('')\r\n    const location = useInput('')\r\n    const incongruity = useInput('')\r\n    const reason = useInput('')\r\n    const usage = useInput('')\r\n    const department = useInput('')\r\n    const sum = useInput('')\r\n    const article = useInput('')\r\n    const nameGuilty = useInput('')\r\n    const [correction, setCorrection] = useState('')\r\n    const nameCorrection = useInput('')\r\n\r\n    let history = useHistory()\r\n\r\n    const newDate = new Date()\r\n\r\n    const onCorrectionChange = (e) => {\r\n        setCorrection(e.target.value)\r\n    }\r\n\r\n    function addList(evt) {\r\n        if (name.value !== '') {\r\n            history.push('/fdp/listsCertificates')\r\n            dispatch(createList(\r\n                name.value,\r\n                date.value || newDate,\r\n                nameProduct.value,\r\n                weight.value,\r\n                location.value,\r\n                incongruity.value,\r\n                reason.value,\r\n                usage.value,\r\n                department.value,\r\n                sum.value,\r\n                article.value,\r\n                nameGuilty.value,\r\n                correction,\r\n                nameCorrection.value\r\n            ))\r\n        } else {\r\n            evt.preventDefault()\r\n            alert('Введите номер')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={l.row}>\r\n                <h2 className={l.head}>НОВЫЙ ЛИСТ АКТА БРАКА</h2>\r\n                <div className={l.input_column}>\r\n                    <div>\r\n                        <div>\r\n                            <div className={l.a}>№ акта</div>\r\n                            <input type='number' placeholder='№ акта...' value={name} {...name}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Дата акта</div>\r\n                            <input type='date' placeholder='Дата акта...' value={newDate} {...date}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Наименование продукции</div>\r\n                            <input type='text' placeholder='Наименование продукции...' value={nameProduct}\r\n                                   {...nameProduct}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Количество, кг</div>\r\n                            <input type='number' placeholder='Количество...' value={weight}\r\n                                   {...weight}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Место обнаружения</div>\r\n                            <input type='text' placeholder='Место обнаружения...' value={location}\r\n                                   {...location}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Вид несоответствия</div>\r\n                            <input type='text' placeholder='Вид несоответствия...' value={incongruity}\r\n                                   {...incongruity}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Причина</div>\r\n                            <input type='text' placeholder='Причина...' value={reason} {...reason}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Направление продукции</div>\r\n                            <input type='text' placeholder='Направление продукции...' value={usage}\r\n                                   {...usage}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Статья списания</div>\r\n                            <input type='text' placeholder='Статья списания...' value={article}\r\n                                   {...article}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>ФИО ответственного за брак</div>\r\n                            <input type='text' placeholder='ФИО ответственного...' value={nameGuilty}\r\n                                   {...nameGuilty}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div>\r\n                            <div className={l.a}>Сумма ущерба, руб</div>\r\n                            <input type='number' placeholder='Сумма ущерба, руб...' value={sum}\r\n                                   {...sum}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Ответственное отделение</div>\r\n                            <input type='text' placeholder='Ответственное отделение...' value={department}\r\n                                   {...department}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Ответственный за выполнение корректирующих мероприятий</div>\r\n                            <input type='text' placeholder='Ответственный...'\r\n                                   value={nameCorrection} {...nameCorrection}/>\r\n                        </div>\r\n                        <div>\r\n                            <div className={l.a}>Корректирующие мероприятия</div>\r\n                            <textarea type='text' value={correction} onChange={onCorrectionChange}\r\n                                      placeholder='Корректирующие мероприятия...' cols={70}\r\n                                      rows={20}></textarea>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <button onClick={addList} className={l.green}>Добавить</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewList;","import React from \"react\";\r\nimport lc from \"./ListCertificate.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {createAddon, removeAdded} from \"../../../../../../action/list\";\r\nimport moment from \"moment\";\r\n\r\nconst ListCertificate = ({list}) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const addingInProgress = useSelector(state => state.listsCertificatePage.addingInProgress)\r\n    const monthFdp = moment(list.monthfdp, 'YYYY-MM-DD').format('MMMM YYYY')\r\n    const dateList = moment(list.date, 'YYYY-MM-DD').format('DD MMMM YYYY')\r\n\r\n    function addonHandler() {\r\n        dispatch(createAddon(list._id, true))\r\n    }\r\n\r\n    function addoffHandler() {\r\n        dispatch(removeAdded(list._id, false))\r\n    }\r\n\r\n    return (\r\n        <div className={lc.list}>\r\n                {/*<span>*/}\r\n                {/*    <div>ЧТО-ТО ТУТ БУДЕТ</div>*/}\r\n                {/*</span>*/}\r\n            <span>\r\n                    <div>№ акта</div>\r\n                </span>\r\n            <div className={lc.link}>\r\n                <NavLink className={lc.nbr_link} to={`/certificateList/` + list.name}>{list.name}</NavLink>\r\n            </div>\r\n            <span>\r\n                    <div>Дата акта</div>\r\n                </span>\r\n            <div>{dateList}</div>\r\n            <span>\r\n                    <div>Наименование продукции</div>\r\n                </span>\r\n            <div>{list.nameProduct}</div>\r\n            <span>\r\n                    <div>Количество, кг</div>\r\n                </span>\r\n            <div>{list.weight} кг</div>\r\n            <span>\r\n                    <div>Ответственное отделение</div>\r\n                </span>\r\n            <div>{list.department}</div>\r\n            <span>\r\n                    <div>Сумма ущерба, руб</div>\r\n                </span>\r\n            <div>{list.sum} руб</div>\r\n            <span>\r\n                    <div>Статья списания</div>\r\n                </span>\r\n            <div>{list.article}</div>\r\n            <span>\r\n                    <div>ФИО ответственного за брак</div>\r\n                </span>\r\n            <div>{list.nameGuilty}</div>\r\n            <span>\r\n                    <div>Ответственный за выполнение корректирующих мероприятий</div>\r\n                </span>\r\n            <div>{list.nameCorrection}</div>\r\n            <span>\r\n                    <div>Отразить в месяц</div>\r\n                </span>\r\n            <div>{monthFdp}</div>\r\n            <div>\r\n                {list.added\r\n                    ? <button className={lc.adding_btn_add} disabled={addingInProgress.some(id => id === list._id)}\r\n                              onClick={() => addoffHandler()}>Убрать</button>\r\n                    : <button className={lc.adding_btn_remove} disabled={addingInProgress.some(id => id === list._id)}\r\n                              onClick={() => addonHandler()}>Добавить</button>}\r\n            </div>\r\n            <hr/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListCertificate;","import React, {useState} from \"react\";\r\nimport style from \"../utils/Paginator.module.css\";\r\nimport {useSelector} from \"react-redux\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({onPageChange, portionSize = 2}) => {\r\n\r\n    const limit = useSelector(state => state.listsCertificatePage.limit)\r\n    const totalDocs = useSelector(state => state.listsCertificatePage.totalDocs)\r\n    const page = useSelector(state => state.listsCertificatePage.page)\r\n\r\n    let pagesCount = Math.ceil(totalDocs / limit)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div>\r\n        <div className={style.list}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {setPortionNumber(portionNumber - 1)} }>&#8592;</button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span key={p} className={cn({[style.selectedList]: page === p}, style.list)}\r\n                             onClick={(e) => {\r\n                                 onPageChange(p)\r\n                             }}>{p}</span>\r\n            })}\r\n            {portionCount > portionNumber && <button onClick={() => {setPortionNumber(portionNumber + 1)} }>&#8594;</button>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Paginator","import React, {useEffect} from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport lc from \"./ListsCertificate.module.css\";\r\nimport ListCertificate from \"./ListCertificate\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setCurrentPage} from \"../../../../../../redux/qualityCertificateList-reducer\";\r\nimport {setLists} from \"../../../../../../action/list\";\r\nimport Paginator from \"../../../../../utils/Paginator\";\r\n\r\nlet ListsCertificate = () => {\r\n\r\n    const limit = useSelector(state => state.listsCertificatePage.limit)\r\n    const page = useSelector(state => state.listsCertificatePage.page)\r\n    const docs = useSelector(state => state.listsCertificatePage.docs)\r\n    const dispatch = useDispatch()\r\n\r\n    function onPageChange(pageNumber) {\r\n        dispatch(setCurrentPage(pageNumber))\r\n        dispatch(setLists(pageNumber, limit))\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(setLists(page, limit))\r\n    }, [page, limit])\r\n\r\n    return <div>\r\n        <div>\r\n            <NavLink to='/fdp/listsCertificates/newList'>\r\n                <button className={lc.green}>Добавить акт</button>\r\n            </NavLink>\r\n        </div>\r\n        <div className={lc.l}>\r\n            <Paginator onPageChange={onPageChange}/>\r\n            <hr/>\r\n            <div>\r\n                {docs.map(list =>\r\n                    <ListCertificate key={list.name} list={list}/>)}\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default ListsCertificate","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport Loader from \"../../../../../utils/Loader\";\r\nimport d from \"../../../../../disk/Disk.module.css\";\r\nimport ListsCertificate from \"./ListsCertitficate\";\r\n\r\nconst Lists = () => {\r\n\r\n    const loader = useSelector(state => state.listsCertificatePage.loader)\r\n\r\n    if (loader) {\r\n        return (\r\n            <div className={d.loader}>\r\n                <Loader/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return <>\r\n        <ListsCertificate/>\r\n    </>\r\n}\r\n\r\nexport default Lists","import React from \"react\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport NewList from \"./newList\";\r\nimport Lists from \"./Lists\";\r\n\r\nconst ListsCertificateRoute = () => {\r\n\r\n    return (\r\n        <div>\r\n            <Switch>\r\n                <Route exact path='/fdp/listsCertificates' render={() => <Lists/>}/>\r\n                <Route exact path='/fdp/listsCertificates/newList' render={() => <NewList/>}/>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListsCertificateRoute;"],"sourceRoot":""}